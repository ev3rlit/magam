## Web Viewer UX

### 역할

| 할 수 있는 것 | 할 수 없는 것 |
|--------------|--------------|
| 캔버스 보기 | 노드 드래그/편집 |
| 노드/엣지 선택 | 직접 추가/삭제 |
| 줌/팬 | 코드 수정 |
| 페이지 이동 | - |
| 선택 항목 복사 | - |

### 레이아웃

```
┌──────────┬─────────────────────────────────────┐
│ 📄 Pages │                                     │
│ ──────── │                                     │
│ overview │                                     │
│ architect│           캔버스 영역                │
│ roadmap  │                                     │
│          │                                     │
│ 📁 Comps │                               ┌───┐ │
│ ──────── │                               │ + │ │
│ api-layer│                               │100│ │
│ db-layer │                               │ - │ │
│          │                               │ ⊡ │ │
├──────────┴───────────────────────────────┴───┴─┤
│ Selected: api-server, database (2)    [Copy ▾] │
└────────────────────────────────────────────────┘
```

### 사이드바 (페이지 네비게이션)

| 섹션 | 내용 |
|------|------|
| Pages | 루트의 .tsx 파일 목록 |
| Components | components/ 폴더 내 파일 목록 |

- 클릭하면 해당 페이지로 이동
- 현재 페이지 하이라이트
- 파일 추가/삭제 시 자동 반영

### 하단 바 (선택 정보)

선택된 노드가 있을 때만 표시됩니다.

```
┌────────────────────────────────────────────────┐
│ Selected: api-server, database (2)    [Copy ▾] │
└────────────────────────────────────────────────┘
```

- 선택된 노드 id 목록
- 노드 개수
- Copy 드롭다운 메뉴

### 선택 인터랙션

| 동작 | 입력 |
|------|------|
| 단일 선택 | 클릭 |
| 다중 선택 추가 | Shift + 클릭 |
| 영역 선택 | 드래그 박스 |
| 전체 선택 | Cmd/Ctrl + A |
| 선택 해제 | Esc 또는 빈 공간 클릭 |

### 복사 기능

두 가지 포맷을 제공합니다.

| 단축키 | 포맷 | 용도 |
|--------|------|------|
| Cmd+C | JSON | AI에게 컨텍스트 전달 |
| Shift+Cmd+C | 코드 스니펫 | 다른 페이지에 붙여넣기, 코드 재사용 |

**JSON 포맷 (Cmd+C)**

```json
{
  "type": "graphwrite-selection",
  "page": "architecture",
  "nodes": [
    {
      "id": "api-server",
      "type": "sticky",
      "position": { "x": 100, "y": 100 },
      "content": "API Server"
    },
    {
      "id": "database",
      "type": "shape",
      "shape": "rectangle",
      "position": { "x": 300, "y": 100 },
      "content": "DB"
    }
  ],
  "edges": [
    {
      "from": "api-server",
      "to": "database",
      "label": "query"
    }
  ]
}
```

**코드 스니펫 (Shift+Cmd+C)**

```tsx
<Sticky id="api-server" x={100} y={100}>
  API Server
  <Edge to="database" label="query" />
</Sticky>
<Shape id="database" x={300} y={100} shape="rectangle">
  DB
</Shape>
```

### 줌/팬 컨트롤

| 동작 | 입력 |
|------|------|
| 팬 | 스크롤 / 스페이스 + 드래그 |
| 줌 인 | Cmd + / 핀치 아웃 |
| 줌 아웃 | Cmd - / 핀치 인 |
| 화면에 맞춤 | Cmd + 0 |
| 100% 보기 | Cmd + 1 |

우하단 컨트롤:
- `+` : 줌 인
- `100%` : 현재 줌 레벨 (클릭 시 100%로)
- `-` : 줌 아웃
- `⊡` : 화면에 맞춤

### 상태 표시

**헤더 영역**

| 상태 | 표시 |
|------|------|
| 정상 | 🔄 Synced |
| 파일 변경 감지 | 🔄 Reloading... |
| 파싱 에러 | ⚠️ Error |

**에러 시 오버레이**

```
┌────────────────────────────────────────────┐
│ ❌ Parse Error in architecture.tsx:15      │
│    Unexpected token '<'                    │
└────────────────────────────────────────────┘
```

에러 발생 시 마지막 성공 상태를 유지하고, 에러 메시지를 오버레이로 표시합니다.
