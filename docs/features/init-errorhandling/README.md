# graphwrite Error Handling & Project Setup

## Overview

graphwriteëŠ” ì½”ë“œ ê¸°ë°˜ ì‹œìŠ¤í…œìœ¼ë¡œ, ì‚¬ìš©ìì™€ AIê°€ ì‘ì„±í•œ `.tsx` íŒŒì¼ì—ì„œ ë‹¤ì–‘í•œ ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³¸ ë¬¸ì„œëŠ” **í”„ë¡œì íŠ¸ ìë™ ì„¸íŒ…**ê³¼ **ì—ëŸ¬ ì²˜ë¦¬ ì „ëµ**ì„ ì •ì˜í•©ë‹ˆë‹¤.

CLI ì‹¤í–‰ ì‹œ ìë™ìœ¼ë¡œ TypeScript ì„¤ì •ê³¼ íƒ€ì… ì •ì˜ë¥¼ ì„¤ì¹˜í•˜ì—¬, ì¼ë°˜ ì‚¬ìš©ìë„ ì—ë””í„°ì—ì„œ ì‹¤ì‹œê°„ íƒ€ì… ì²´í¬ì™€ ìë™ì™„ì„±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## Design Principles

| ì›ì¹™ | ì„¤ëª… |
|------|------|
| Zero Config | ì‚¬ìš©ìëŠ” `.tsx` íŒŒì¼ë§Œ ì‘ì„±, ì„¤ì •ì€ CLIê°€ ìë™ ìƒì„± |
| ì—ë””í„° ì¹œí™”ì  | VS Code ë“±ì—ì„œ íƒ€ì… ì²´í¬, ìë™ì™„ì„± ì§€ì› |
| í˜„ìƒ ìœ ì§€ | ì—ëŸ¬ ë°œìƒ ì‹œ ë§ˆì§€ë§‰ ì„±ê³µ ìƒíƒœ ìœ ì§€ |
| AI ì¹œí™”ì  | MCP ë„êµ¬ë¡œ ì—ëŸ¬ ì •ë³´ ì¡°íšŒ ê°€ëŠ¥ |

---

## Project Auto Setup

### ì‚¬ìš©ì ê²½í—˜

```bash
# 1. ì•„ë¬´ í´ë”ì—ì„œ
cd ~/my-diagrams

# 2. íŒŒì¼ ë§Œë“¤ê³ 
echo 'import { Canvas } from "graphwrite"
export default function() { return <Canvas /> }' > overview.tsx

# 3. CLI ì‹¤í–‰
npx @graphwrite/cli dev

# 4. CLIê°€ ìë™ìœ¼ë¡œ ì„¤ì •
âœ“ Setting up graphwrite environment...
âœ“ tsconfig.json created
âœ“ Type definitions installed
ğŸš€ graphwrite running at http://localhost:3000
ğŸ“ Watching: ~/my-diagrams
```

VS Codeì—ì„œ ë°”ë¡œ íƒ€ì… ì²´í¬ + ìë™ì™„ì„± ë™ì‘.

### ìë™ ìƒì„± íŒŒì¼ êµ¬ì¡°

```
ì‚¬ìš©ì í´ë”/
â”œâ”€â”€ overview.tsx           â† ì‚¬ìš©ì íŒŒì¼
â”œâ”€â”€ architecture.tsx       â† ì‚¬ìš©ì íŒŒì¼
â”œâ”€â”€ components/
â”‚   â””â”€â”€ api-layer.tsx      â† ì‚¬ìš©ì íŒŒì¼
â”‚
â”œâ”€â”€ tsconfig.json          â† ìë™ ìƒì„± (ì—ë””í„° ì¸ì‹ìš©)
â”œâ”€â”€ .gitignore             â† ìë™ ìƒì„±/ìˆ˜ì •
â””â”€â”€ .graphwrite/           â† ìë™ ìƒì„± (ìºì‹œ í´ë”)
    â”œâ”€â”€ node_modules/
    â”‚   â””â”€â”€ graphwrite/    â† íƒ€ì… ì •ì˜ ë³µì‚¬
    â”‚       â”œâ”€â”€ index.d.ts
    â”‚       â””â”€â”€ package.json
    â””â”€â”€ .gitignore
```

### ìƒì„± íŒŒì¼ ìƒì„¸

**tsconfig.json**

ì—ë””í„°ê°€ TypeScript í”„ë¡œì íŠ¸ë¡œ ì¸ì‹í•˜ë„ë¡ í•©ë‹ˆë‹¤.

```json
{
  "compilerOptions": {
    "jsx": "react-jsx",
    "module": "ESNext",
    "target": "ESNext",
    "moduleResolution": "bundler",
    "strict": true,
    "noEmit": true,
    "baseUrl": ".",
    "paths": {
      "graphwrite": ["./.graphwrite/node_modules/graphwrite"]
    }
  },
  "include": ["**/*.tsx"],
  "exclude": [".graphwrite", "node_modules"]
}
```

**.graphwrite/node_modules/graphwrite/index.d.ts**

íƒ€ì… ì •ì˜ íŒŒì¼. CLIì— ë‚´ì¥ëœ @graphwrite/coreì˜ íƒ€ì…ì„ ë³µì‚¬í•©ë‹ˆë‹¤.

```typescript
// ìë™ ìƒì„±ë¨ - ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”
// @graphwrite/cliì—ì„œ ë³µì‚¬ë¨

import { ReactNode } from 'react';

export interface CanvasProps {
  width?: number;
  height?: number;
  grid?: boolean;
  gridSize?: number;
  className?: string;
  children?: ReactNode;
}

export interface StickyProps {
  id: string;
  x: number;
  y: number;
  width?: number;
  height?: number;
  className?: string;
  children?: ReactNode;
}

// ... ë‚˜ë¨¸ì§€ ì»´í¬ë„ŒíŠ¸ íƒ€ì…
```

**.gitignore**

```
.graphwrite/
```

### ì„¸íŒ… íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 npx @graphwrite/cli dev                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               .graphwrite/ í´ë” í™•ì¸                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â–¼                           â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   ìˆìŒ      â”‚             â”‚   ì—†ìŒ      â”‚
     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
            â”‚                           â”‚
            â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë²„ì „ í™•ì¸          â”‚       â”‚  .graphwrite/ ìƒì„±   â”‚
â”‚  (CLI ë²„ì „ != ìºì‹œ) â”‚       â”‚  íƒ€ì… ì •ì˜ ë³µì‚¬      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚  tsconfig.json ìƒì„±  â”‚
           â”‚                  â”‚  .gitignore ìˆ˜ì •     â”‚
     â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–¼           â–¼                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚ ë™ì¼    â”‚ â”‚ ë‹¤ë¦„    â”‚                  â”‚
â”‚ Skip    â”‚ â”‚ ì¬ìƒì„±  â”‚                  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                  â”‚
     â”‚           â”‚                       â”‚
     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ì„œë²„ ì‹œì‘                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì—ë””í„° ì§€ì› ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| íƒ€ì… ì²´í¬ | ì˜ëª»ëœ propsì— ë¹¨ê°„ ë°‘ì¤„ |
| ìë™ì™„ì„± | `<Sticky ` ì…ë ¥ ì‹œ props ëª©ë¡ í‘œì‹œ |
| í˜¸ë²„ ë¬¸ì„œ | props ìœ„ì— ë§ˆìš°ìŠ¤ ì˜¬ë¦¬ë©´ ì„¤ëª… í‘œì‹œ |
| Go to Definition | ì»´í¬ë„ŒíŠ¸ í´ë¦­ ì‹œ íƒ€ì… ì •ì˜ë¡œ ì´ë™ |
| Import ìë™ì™„ì„± | `Canvas` ì…ë ¥ ì‹œ import ë¬¸ ìë™ ì¶”ê°€ |

### CLI ì—…ë°ì´íŠ¸ ì‹œ

CLI ë²„ì „ì´ ì˜¬ë¼ê°€ë©´ `.graphwrite/` í´ë”ë¥¼ ì¬ìƒì„±í•©ë‹ˆë‹¤.

```bash
npx @graphwrite/cli dev

# CLI ë²„ì „ ë³€ê²½ ê°ì§€
âœ“ Updating graphwrite environment (v0.1.0 â†’ v0.2.0)...
âœ“ Type definitions updated
ğŸš€ graphwrite running at http://localhost:3000
```

---

## Error Types

### 1. Syntax Error (ë¬¸ë²• ì—ëŸ¬)

íŠ¸ëœìŠ¤íŒŒì¼ ë‹¨ê³„ì—ì„œ ë°œìƒí•©ë‹ˆë‹¤.

| ì˜ˆì‹œ | ì„¤ëª… |
|------|------|
| `<Sticky id="api"` | ë‹«ëŠ” íƒœê·¸ ëˆ„ë½ |
| `<Sticky id={api}>` | ë”°ì˜´í‘œ ëˆ„ë½ |
| `export default function() {` | ì˜ëª»ëœ ë¬¸ë²• |

```tsx
// ì—ëŸ¬ ì½”ë“œ
<Sticky id="api" x={100} y={100}
  API Server
</Sticky>

// ì—ëŸ¬ ë©”ì‹œì§€
Syntax Error: Unexpected token (line 3)
```

### 2. Props Error (ì†ì„± ì—ëŸ¬)

ë Œë”ë§ ë‹¨ê³„ì—ì„œ í•„ìˆ˜ props ëˆ„ë½ ë˜ëŠ” ì˜ëª»ëœ íƒ€ì… ê°ì§€.

| ì˜ˆì‹œ | ì„¤ëª… |
|------|------|
| `<Sticky>` | id, x, y ëˆ„ë½ |
| `<Sticky id="api" x="100">` | xê°€ string (numberì—¬ì•¼ í•¨) |
| `<Shape id="s" x={0} y={0}>` | shape ëˆ„ë½ |

```tsx
// ì—ëŸ¬ ì½”ë“œ
<Sticky x={100} y={100}>
  API Server
</Sticky>

// ì—ëŸ¬ ë©”ì‹œì§€
Props Error: Missing required prop 'id' on Sticky
```

### 3. Reference Error (ì°¸ì¡° ì—ëŸ¬)

ì¡´ì¬í•˜ì§€ ì•ŠëŠ” idë¥¼ ì°¸ì¡°í•  ë•Œ ë°œìƒ.

| ì˜ˆì‹œ | ì„¤ëª… |
|------|------|
| `<Edge to="ì—†ëŠ”-id" />` | ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë…¸ë“œ ì°¸ì¡° |
| `<Node parentId="ì—†ëŠ”-id">` | ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë¶€ëª¨ ì°¸ì¡° |

```tsx
// ì—ëŸ¬ ì½”ë“œ
<Sticky id="api" x={100} y={100}>
  API
  <Edge to="database" />  // databaseê°€ ì—†ìŒ
</Sticky>

// ì—ëŸ¬ ë©”ì‹œì§€
Reference Error: Edge target 'database' not found
```

### 4. Structure Error (êµ¬ì¡° ì—ëŸ¬)

ì»´í¬ë„ŒíŠ¸ë¥¼ ì˜ëª»ëœ ìœ„ì¹˜ì—ì„œ ì‚¬ìš©í•  ë•Œ ë°œìƒ.

| ì˜ˆì‹œ | ì„¤ëª… |
|------|------|
| `<Node>` ë‹¨ë… ì‚¬ìš© | MindMap ë°–ì—ì„œ Node ì‚¬ìš© |
| `<Canvas>` ì¤‘ì²© | Canvas ì•ˆì— Canvas |
| `<Edge>` ë£¨íŠ¸ ë ˆë²¨ ìì‹ | from ì—†ì´ Canvas ì§ì ‘ ìì‹ìœ¼ë¡œ Edge |

```tsx
// ì—ëŸ¬ ì½”ë“œ
<Canvas>
  <Node id="root">Root</Node>  // MindMap ì—†ì´ Node ì‚¬ìš©
</Canvas>

// ì—ëŸ¬ ë©”ì‹œì§€
Structure Error: Node must be inside MindMap
```

### 5. Import Error (Import ì—ëŸ¬)

ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ importí•  ë•Œ ë°œìƒ.

| ì˜ˆì‹œ | ì„¤ëª… |
|------|------|
| `import { Foo } from 'graphwrite'` | ì—†ëŠ” ì»´í¬ë„ŒíŠ¸ |
| `import { Canvas } from 'other-lib'` | ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ |

```tsx
// ì—ëŸ¬ ì½”ë“œ
import { Canvas, Sticky, Button } from 'graphwrite'

// ì—ëŸ¬ ë©”ì‹œì§€
Import Error: 'Button' is not exported from 'graphwrite'
```

---

## Error Handling Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    íŒŒì¼ ë³€ê²½ ê°ì§€                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    íŠ¸ëœìŠ¤íŒŒì¼ ì‹œë„                           â”‚
â”‚                    (esbuild)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â–¼                           â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   ì„±ê³µ      â”‚             â”‚   ì‹¤íŒ¨      â”‚
     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
            â”‚                           â”‚
            â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ë Œë”ë§ ì‹œë„       â”‚       â”‚   Syntax Error ì €ì¥ â”‚
â”‚   (React ì‹¤í–‰)      â”‚       â”‚   í˜„ìƒ ìœ ì§€         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
     â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
     â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì„±ê³µ   â”‚ â”‚  ì‹¤íŒ¨   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚           â”‚
     â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ìƒˆ ìƒíƒœ  â”‚ â”‚ Props/Reference/    â”‚
â”‚ ë Œë”ë§   â”‚ â”‚ Structure Error ì €ì¥â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ í˜„ìƒ ìœ ì§€           â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Error Storage

ì—ëŸ¬ëŠ” ë©”ëª¨ë¦¬ì— ì €ì¥ë˜ì–´ MCPì™€ ë·°ì–´ì—ì„œ ì¡°íšŒ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```typescript
interface ErrorStore {
  errors: GraphwriteError[]
  lastSuccessState: CanvasState
  lastSuccessTime: string
}

interface GraphwriteError {
  type: 'syntax' | 'props' | 'reference' | 'structure' | 'import'
  file: string
  line: number
  column: number
  message: string
  code: string           // í•´ë‹¹ ë¼ì¸ ì½”ë“œ
  suggestion?: string    // ìˆ˜ì • ì œì•ˆ
}
```

---

## MCP Interface

### canvas.getErrors()

í˜„ì¬ ì—ëŸ¬ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.

```typescript
// ìš”ì²­
canvas.getErrors()

// ì‘ë‹µ
{
  errors: [
    {
      type: "props",
      file: "architecture.tsx",
      line: 15,
      column: 5,
      message: "Missing required prop 'id' on Sticky",
      code: "    <Sticky x={100} y={100}>",
      suggestion: "Add id prop: <Sticky id=\"unique-id\" x={100} y={100}>"
    }
  ],
  hasErrors: true,
  lastSuccessTime: "2024-01-15T10:30:00Z"
}
```

### ì—ëŸ¬ ì—†ì„ ë•Œ

```typescript
{
  errors: [],
  hasErrors: false,
  lastSuccessTime: "2024-01-15T10:35:00Z"
}
```

---

## AI Workflow

AIê°€ ì½”ë“œ ìˆ˜ì • í›„ ì—ëŸ¬ë¥¼ ìë™ìœ¼ë¡œ í™•ì¸í•˜ê³  ìˆ˜ì •í•˜ëŠ” íë¦„ì…ë‹ˆë‹¤.

```
ì‚¬ìš©ì: "architecture í˜ì´ì§€ì— Cache ë…¸ë“œ ì¶”ê°€í•´ì¤˜"

AI:
1. code.read("architecture") â†’ í˜„ì¬ ì½”ë“œ í™•ì¸
2. ì½”ë“œ ìˆ˜ì •
3. code.write(newCode, "architecture") â†’ ì €ì¥
4. canvas.getErrors() â†’ ì—ëŸ¬ í™•ì¸
   â”œâ”€â”€ ì—ëŸ¬ ì—†ìŒ â†’ "Cache ë…¸ë“œë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤" ë³´ê³ 
   â””â”€â”€ ì—ëŸ¬ ìˆìŒ â†’ ì—ëŸ¬ ë‚´ìš© í™•ì¸ í›„ ìë™ ìˆ˜ì • ì‹œë„
5. (ì—ëŸ¬ ì‹œ) ìˆ˜ì • í›„ ë‹¤ì‹œ code.write()
6. canvas.getErrors() â†’ ì¬í™•ì¸
7. ì™„ë£Œ ë³´ê³ 
```

### ì˜ˆì‹œ ëŒ€í™”

```
AI: Cache ë…¸ë“œë¥¼ ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤.

[code.write ì‹¤í–‰]
[canvas.getErrors ì‹¤í–‰]

AI: ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. Edge ëŒ€ìƒ 'database'ê°€ ì¡´ì¬í•˜ì§€ ì•Šë„¤ìš”.
    database ë…¸ë“œë¥¼ ë¨¼ì € ì¶”ê°€í• ê¹Œìš”, ì•„ë‹ˆë©´ ë‹¤ë¥¸ ë…¸ë“œì— ì—°ê²°í• ê¹Œìš”?

ì‚¬ìš©ì: db ë…¸ë“œì— ì—°ê²°í•´ì¤˜

[code.write ì‹¤í–‰]
[canvas.getErrors ì‹¤í–‰]

AI: ìˆ˜ì • ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. Cache ë…¸ë“œê°€ db ë…¸ë“œì— ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.
```

---

## User Display

### Terminal (CLI)

ìƒì„¸í•œ ì—ëŸ¬ ì •ë³´ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.

```
[graphwrite] Watching ~/my-diagrams

[graphwrite] âœ“ overview.tsx loaded
[graphwrite] âœ“ architecture.tsx loaded

[graphwrite] File changed: architecture.tsx
[graphwrite] âŒ Error in architecture.tsx

  Props Error: Missing required prop 'id' on Sticky

    14 |   <Canvas>
    15 |     <Sticky x={100} y={100}>
       |     ^^^^^^^
    16 |       API Server

  ğŸ’¡ Suggestion: Add id prop
     <Sticky id="unique-id" x={100} y={100}>

[graphwrite] Keeping previous state
```

### Web Viewer

ê°„ë‹¨í•œ ìƒíƒœ í‘œì‹œì™€ ì—ëŸ¬ ìš”ì•½ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.

**ì •ìƒ ìƒíƒœ**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Pages    â”‚                           ğŸ”„ Synced â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ overview â”‚                                      â”‚
â”‚ architectâ”‚           ìº”ë²„ìŠ¤                     â”‚
â”‚          â”‚                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Selected: (none)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì—ëŸ¬ ìƒíƒœ**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Pages    â”‚                           âš ï¸ Error  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ overview â”‚                                      â”‚
â”‚ architectâ”‚     (ë§ˆì§€ë§‰ ì„±ê³µ ìƒíƒœ ìœ ì§€)          â”‚
â”‚    âš ï¸    â”‚                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âŒ architecture.tsx:15 - Missing required 'id'  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- í—¤ë”: `âš ï¸ Error` ìƒíƒœ í‘œì‹œ
- ì‚¬ì´ë“œë°”: ì—ëŸ¬ ìˆëŠ” íŒŒì¼ì— âš ï¸ ì•„ì´ì½˜
- í•˜ë‹¨ ë°”: ì—ëŸ¬ ë©”ì‹œì§€ í•œ ì¤„ ìš”ì•½
- ìº”ë²„ìŠ¤: ë§ˆì§€ë§‰ ì„±ê³µ ìƒíƒœ ìœ ì§€

### ì—ëŸ¬ ìƒì„¸ ë³´ê¸°

í•˜ë‹¨ ë°” í´ë¦­ ì‹œ ì—ëŸ¬ ìƒì„¸ íŒ¨ë„ í™•ì¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Pages    â”‚                           âš ï¸ Error  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ overview â”‚                                      â”‚
â”‚ architectâ”‚     (ë§ˆì§€ë§‰ ì„±ê³µ ìƒíƒœ ìœ ì§€)          â”‚
â”‚    âš ï¸    â”‚                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âŒ Errors (1)                              [Ã—]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ architecture.tsx:15:5                           â”‚
â”‚ Props Error: Missing required prop 'id'         â”‚
â”‚                                                 â”‚
â”‚   <Sticky x={100} y={100}>                      â”‚
â”‚   ^^^^^^^                                       â”‚
â”‚                                                 â”‚
â”‚ ğŸ’¡ Add id prop: <Sticky id="..." x={100}...     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Error Suggestions

ê°€ëŠ¥í•œ ê²½ìš° ìˆ˜ì • ì œì•ˆì„ ì œê³µí•©ë‹ˆë‹¤.

| ì—ëŸ¬ ìœ í˜• | ì œì•ˆ |
|----------|------|
| Missing prop 'id' | `Add id prop: <Sticky id="unique-id" ...>` |
| Missing prop 'x' | `Add position: x={0}` |
| Invalid prop type | `Change to number: x={100} instead of x="100"` |
| Reference not found | `Available nodes: api, database, cache` |
| Node outside MindMap | `Wrap with MindMap: <MindMap><Node>...</Node></MindMap>` |
| Unknown import | `Available: Canvas, Sticky, Shape, Text, Edge, Group, MindMap, Node` |

---

## Summary

| í•­ëª© | ì„¤ëª… |
|------|------|
| ì—ëŸ¬ ì‹œ ë™ì‘ | ë§ˆì§€ë§‰ ì„±ê³µ ìƒíƒœ ìœ ì§€ |
| ì—ëŸ¬ ì €ì¥ | ë©”ëª¨ë¦¬ (ErrorStore) |
| MCP ë„êµ¬ | canvas.getErrors() |
| í„°ë¯¸ë„ í‘œì‹œ | ìƒì„¸ ì—ëŸ¬ + ì½”ë“œ + ì œì•ˆ |
| ë·°ì–´ í‘œì‹œ | ìƒíƒœ ì•„ì´ì½˜ + ìš”ì•½ + ìƒì„¸ íŒ¨ë„ |
| AI ì›Œí¬í”Œë¡œìš° | ìë™ ì—ëŸ¬ í™•ì¸ ë° ìˆ˜ì • ì‹œë„ |